<mat-card>
  <div
    style="display: flex; justify-content: space-between; align-items: baseline"
  >
    <!-- search box -->
    <div>
      <!-- <mat-form-field
        style="margin: 1em; width: 300px; font-size: 14px; padding-right: 15px"
        appearance="standard"
      >
        <mat-label>Search</mat-label>
        <input matInput placeholder="" />
        <mat-icon matSuffix style="color: #90ac8e">search</mat-icon>
        <mat-hint></mat-hint>
      </mat-form-field>
      <button
        #menuTrigger="matMenuTrigger"
        [matMenuTriggerFor]="filter"
        mat-button
      >
        Filters
        <span class="material-symbols-outlined" style="margin-left: 5px">
          tune
        </span>
      </button> -->

      <!-- <mat-menu #filter="matMenu" class="mymegamenu">
        <div class="custom-mat-panel" (click)="$event.stopPropagation()">
          <button
            style="color: #90ac8e; position: absolute; right: 10px; top: 10px"
            mat-icon-button
            (click)="menuTrigger.closeMenu()"
          >
            <mat-icon matSuffix>close</mat-icon>
          </button>

          <div style="display: flex">
            <div style="border-right: 1px solid red; padding-right: 15px">
              <b>Search By</b>
              <span class="example-list-section">
                <p>
                  <mat-checkbox class="example-margin" [(ngModel)]="checked"
                    >Checked</mat-checkbox
                  >
                </p>
                <p>
                  <mat-checkbox
                    class="example-margin"
                    [(ngModel)]="indeterminate"
                    >Indeterminate</mat-checkbox
                  >
                </p>
                <p>
                  <mat-checkbox
                    class="example-margin"
                    [(ngModel)]="indeterminate"
                    >Indeterminate</mat-checkbox
                  >
                </p>
                <p>
                  <mat-checkbox
                    class="example-margin"
                    [(ngModel)]="indeterminate"
                    >Indeterminate</mat-checkbox
                  >
                </p>
              </span>
            </div>
            <div style="border-right: 1px solid red; padding: 0px 15px">
              <b> Items Per Page</b>

              <div style="display: block">
                {{ this.value1 }}

                <mat-slider
                  class="example-margin"
                  disabled="false"
                  max="50"
                  min="10"
                  step="10"
                  discrete="false"
                  showTickMarks="false"
                  [(ngModel)]="value1"
                  (input)="value1 = $event.value"
                >
                </mat-slider>
              </div>
            </div>
            <div style="border-right: 1px solid red; padding: 0px 15px">
              <b>Sort By</b>
            </div>
            <div style="padding: 0px 15px">
              <b>Sort Type</b>
            </div>
          </div>

          <button
            mat-button
            (click)="setFilter(); menuTrigger.closeMenu()"
            style="width: 100%; margin-top: 20px"
          >
            Save
          </button>
        </div>
      </mat-menu> -->
    </div>

    <div>
      <!-- <button
        mat-button
        (click)="this.downloadPDF()"
        [disabled]="this.pdfbtn"
        [ngStyle]="{ cursor: this.pdfbtn ? 'progress ' : 'pointer' }"
        color="accent"
      >
        Export to PDF
        <span class="material-symbols-outlined"> news </span>
      </button>
      <button
        mat-button
        (click)="this.downloadExcel()"
        [disabled]="this.excelbtn"
        [ngStyle]="{ cursor: this.excelbtn ? 'progress ' : 'pointer' }"
        color="accent"
      >
        Export to XLSX
        <span class="material-symbols-outlined"> window </span>
      </button>
      <button mat-button>
        Export to CSV
        <span class="material-symbols-outlined"> border_left </span>
      </button> -->

      <button
        mat-button
        class="fw-bold"
        *ngIf="componentName === 'cashout'"
        (click)="this.buttonClicked({ type: 'cashoutFormView' })"
      >
        <p *ngIf="role === 'admin'; else otherTemplate">ADD CASH OUT</p>
        <ng-template #otherTemplate><p>REQUEST CASH OUT</p></ng-template>
      </button>

      <button
        mat-button
        class="fw-bold"
        *ngIf="componentName === 'cashin'"
        (click)="this.buttonClicked({ type: 'cashinFormView' })"
      >
        <p *ngIf="role === 'admin'; else otherTemplate">ADD CASH IN</p>
        <ng-template #otherTemplate><p>REQUEST CASH IN</p></ng-template>
      </button>
    </div>
  </div>

  <!-- table -->
  <table class="table table-responsive">
    <thead>
      <tr>
        <th></th>
        <th *ngFor="let head of headers; let i = index"></th>

        <th style="text-align: center"></th>
      </tr>
    </thead>
    <tbody *ngIf="data.length">
      <tr *ngFor="let data of data; let i = index">
        <td>
          {{
            this.filters.limit * this.currentPage - (this.filters.limit - 1) + i
          }}
        </td>
        <td *ngFor="let dataName of dataNames">
          <ng-container [ngSwitch]="true">
            <ng-container
              *ngSwitchCase="'amount' === dataName || 'fee' === dataName"
            >
              {{ data[dataName] | currency : "â‚±" : "symbol" }}
            </ng-container>
            <ng-container *ngSwitchCase="'createdAt' === dataName">
              {{ data[dataName] | date : "M-d-yy h:mma" }}
            </ng-container>
            <ng-container *ngSwitchCase="'status' === dataName">
              <div [innerHTML]="data[dataName] | transactionStatus"></div>
            </ng-container>

            <ng-container *ngSwitchDefault> {{ data[dataName] }} </ng-container>
          </ng-container>
        </td>
        <td style="text-align: center">
          <div class="buttons">
            <!-- <button
              mat-icon-button
              matTooltip="Next"
              matTooltipPosition="after"
              (click)="openDeleteModal(data._id)"
              matTooltip="Delete"
              matTooltipPosition="above"
            >
              <mat-icon class="material-symbols-outlined">delete</mat-icon>
            </button>
            <button
              mat-icon-button
              matTooltip="Next"
              matTooltipPosition="after"
              (click)="openEditModal(data)"
              matTooltip="Edit"
              matTooltipPosition="above"
            >
              <mat-icon class="material-symbols-outlined">edit</mat-icon>
            </button> -->

            <button
              mat-button
              class="fw-bold"
              color="primary"
              (click)="emitViewCashout(data)"
            >
              <p class="fw-bold">VIEW</p>
            </button>

            <button
              *ngIf="role === 'admin'"
              mat-button
              (click)="
                buttonClicked({ type: 'approve', data: { trans_id: data._id } })
              "
              color="primary"
            >
              <p class="fw-bold">APPROVE</p>
            </button>
            <button
              *ngIf="role === 'admin'"
              mat-button
              (click)="
                buttonClicked({ type: 'fail', data: { trans_id: data._id } })
              "
            >
              <p class="fw-bold">FAIL</p>
            </button>
            <button
              mat-button
              color="primary"
              (click)="
                buttonClicked({ type: 'cancel', data: { trans_id: data._id } })
              "
            >
              <p class="fw-bold">CANCEL</p>
            </button>
          </div>
        </td>
      </tr>
    </tbody>
  </table>

  <div
    style="
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      width: 100% !important;
      padding-bottom: 20px;
      padding-right: 15px;
    "
  >
    <div>
      <p style="padding-left: 15px">Total Items: {{ totalCount }}</p>
    </div>

    <div>
      <button
        [disabled]="this.currentPage == 1"
        (click)="this.emitPrev()"
        mat-icon-button
      >
        <span class="material-symbols-outlined"> navigate_before </span>
      </button>
      Page {{ this.currentPage }} of {{ this.totalPages }}
      <button
        [disabled]="this.currentPage == this.totalPages"
        (click)="this.emitNext()"
        mat-icon-button
      >
        <span class="material-symbols-outlined"> navigate_next </span>
      </button>
    </div>
  </div>
</mat-card>
